<div class="container mt-3">
  <div class="card mb-2 shadow-sm">
    <div class="card-header d-flex align-items-center justify-content-center py-1">
      <span>Show All Suppliers</span>
    </div>

    <div class="card-body">
      <!-- ðŸ” SEARCH BOX (ADD HERE) -->
      <div class="row mb-3 align-items-center">
        <!-- Search -->
        <div class="col-8 col-md-4 ms-auto">
          <input type="text" class="form-control form-control-sm" placeholder="Search name, email or phone"
            [(ngModel)]="searchText" />
        </div>

        <!-- Add Button -->
        <div class="col-auto">
          <button class="btn btn-sm btn-primary" (click)="addSupplierModal()" title="Add Supplier">
            <i class="bi bi-plus-lg"></i>
          </button>
        </div>
      </div>

      <div class="table-responsive table-fixed-header">
        <div *ngIf="alertMessage" class="alert alert-{{alertType}} alert-dismissible fade show">
          {{ alertMessage }}
        </div>
        <table class="table cart-table align-middle mb-0 table-striped">
          <thead class="table-header">
            <tr>
              <th (click)="sort('id')" style="cursor:pointer">
                SupplierId <i class="bi ms-1" [ngClass]="getSortIcon('id')"></i>
              </th>
              <th (click)="sort('supplierName')" style="cursor:pointer">
                Supplier Name <i class="bi ms-1" [ngClass]="getSortIcon('supplierName')"></i>
              </th>
              <th>Contact Person</th>
              <th (click)="sort('email')" style="cursor:pointer">
                Email <i class="bi ms-1" [ngClass]="getSortIcon('email')"></i>
              </th>
              <th (click)="sort('phone')" style="cursor:pointer">
                Phone <i class="bi ms-1" [ngClass]="getSortIcon('phone')"></i>
              </th>
              <th>#GST</th>
              <th>#DrugLicense</th>
              <th>CreatedAt</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody class="table-body-scroll">
            <tr *ngFor="let supplier of filterCustomer(); let i = index">
              <td>{{ supplier.id }}</td>
              <td>{{ supplier.supplierName }}</td>
              <td>{{ supplier.contactPerson }}</td>
              <td>{{ supplier.email }}</td>
              <td>{{ supplier.phone }}</td>
              <td>{{ supplier.gstNumber }}</td>
              <td>{{ supplier.drugLicenseNumber }}</td>
              <td>{{ supplier.createdAt | date:'yyyy-MMM-dd'}}</td>
              <td>
                <button class="btn btn-warning btn-sm p-0 me-1" style="width:24px; height:24px;" title="Edit"
                  (click)="editSupplier(supplier)">
                  <i class="bi bi-pencil-fill" style="font-size: 0.8rem;"></i>
                </button>
                <button class="btn btn-danger btn-sm p-0" style="width:24px; height:24px;"
                  (click)="openDeleteModal(supplier)" title="Delete">
                  <i class="bi bi-trash-fill" style="font-size: 0.8rem;"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>